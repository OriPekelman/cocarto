
<button
  class="button button--slim button--link button--with-icon"
  data-modal-id-param="<%= id %>"
  data-action="click->modal#show">
  <span><%= Row.human_attribute_name(:files, count: @value.length) %></span>
</button>
<template id="<%= id %>">
  <%= form_with method: :patch, model: [@row.layer, @row], multipart: true, html: {class: "form"} do |f| %>
    <%= hidden_field_tag "context", "modal" %>
    <div class="card__main-content">
      <h3><%= t "field.existing_attachments" %></h3>
      <% @value.each do |file| %>
        <%= link_to file.filename, url_for(file) %>
      <% end %>
      <h3><%= t "field.add_attachments" %></h3>
      <%= f.file_field @field_name, multiple: true, name: @field_name, include_hidden: false %>
    </div>
    <div class="card__footer-content">
      <%= f.submit t("common.save"), class: "button button--confirm" %>
    </div>
  <% end %>
</template>
