<%= turbo_stream_from @layer %>
<% content_for :nav do %>
  <div class="inline">
    <h2><%= t('current layer') %></h2>
    <%= form_with(model: @layer) do |form| %>
      <%= form.text_field :name %>
    <% end %>
  </div>
<% end %>

<div
  class="data-with-map"
  data-controller="map"
  data-map-editable-value="true"
  data-map-layer-id-value="<%= @layer.id %>"
  data-map-session-id-value="<%= @session_id %>"
  data-map-username-value="<%= @user_name %>">
    <div class="data">
      <%= render "row_contents/table" %>
      <%= render partial: "tooltip", locals: {layer: @layer} %>
    </div>
    <div class="map" data-map-target="map">
        <%= render "row_contents/new", layer: @layer %>
    </div>
</div>
