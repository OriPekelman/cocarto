<%# params: field, value, row_id, controller %>
<%# renders one form field tag for a value of a row for a specific field %>

<td class="field-<%= field.id %> <%= "numerical" if field.numerical? %>">
  <% if field.numerical? %>
    <%= number_field_tag "row[#{field.id}]", value, id: field.id, class: "numerical", data: {action: "focusout->#{controller}#save"}, form: row_id, autocomplete: :off %>
  <% elsif field.field_type == "territory" %>
    <%= render partial: "territories/search_form", locals: {field_id: field.id, value: value, row_id: row_id} %>
  <% elsif field.field_type == "date" %>
    <%= date_field_tag "row[#{field.id}]", value, id: field.id, data: {action: "change->#{controller}#save"}, form: row_id, autocomplete: "off" %>
  <% elsif field.field_type == "boolean" %>
    <%= check_box_tag "row[#{field.id}]", "1", value == "1", id: field.id, data: {action: "change->#{controller}#save"}, form: row_id, class: "field_checkbox" %>
  <% else %>
    <%= text_field_tag "row[#{field.id}]", value, id: field.id, class: "input", data: {action: "focusout->#{controller}#save"}, form: row_id, autocomplete: :off %>
  <% end %>
</td>
