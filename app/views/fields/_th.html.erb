<%# params: field %>
<%# renders an destroyable table header for a given field. Used in layers/rows %>

<th
  id="<%= dom_id(field) %>"
  class="dropdown table-head"
  data-controller="dropdown"
  aria-haspopup="true"
  data-dropdown-target="trigger"
  data-action="click->dropdown#toggle">
  <span class="chevron"><%= field.label %></span>
  <div class="dropdown-content" role="menu" data-dropdown-target="content">
    <%= button_to field, method: :delete,
          data: {
            restricted_target: "restricted",
            restricted_authorizations: %w[owner editor].to_json # cf LayerPolicy#update?
          } do %>
      <span><%= t("helpers.link.field.delete") %></span>
    <% end %>
  </div>
</th>
